{"ast":null,"code":"var user = \"My\";\nexport default {\n  data() {\n    return {\n      ws: null\n    };\n  },\n  created() {\n    //连接WebSocket服务端，然后初始化监听事件\n    this.ws = new WebSocket(\"ws://localhost:8080/webSocket/\" + user);\n    this.wsInit();\n  },\n  methods: {\n    wsInit() {\n      this.ws.onopen = () => {\n        this.ws.send(\"服务已连接\");\n        alert(11);\n        console.log(this.ws.readyState);\n      };\n      this.ws.onclose = () => {\n        console.log(\"服务器关闭\");\n        alert(12);\n        console.log(this.ws.readyState);\n      };\n      this.ws.onmessage = message => {\n        console.log(\"收到服务器消息\");\n        alert(message.data());\n        console.log(message);\n        console.log(this.ws.readyState);\n      };\n      this.ws.onerror = error => {\n        console.log(\"报错了\");\n        console.log(error);\n        console.log(this.ws.readyState);\n      };\n    }\n  }\n};","map":{"version":3,"names":["user","data","ws","created","WebSocket","wsInit","methods","onopen","send","alert","console","log","readyState","onclose","onmessage","message","onerror","error"],"sources":["D:\\VUE\\demo\\src\\pages\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <button @click=\"webclick\">给后台发送消息</button>\r\n</template>\r\n\r\n<script>\r\nvar user = \"My\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      ws: null\r\n    }\r\n  },\r\n  created() {\r\n    //连接WebSocket服务端，然后初始化监听事件\r\n    this.ws = new WebSocket(\"ws://localhost:8080/webSocket/\"+user)\r\n    this.wsInit()\r\n\r\n  },\r\n  methods: {\r\n    wsInit() {\r\n\r\n      this.ws.onopen = () => {\r\n        this.ws.send(\"服务已连接\");\r\n        alert(11)\r\n        console.log(this.ws.readyState)\r\n      }\r\n      this.ws.onclose = () => {\r\n        console.log(\"服务器关闭\")\r\n        alert(12)\r\n        console.log(this.ws.readyState)\r\n      }\r\n      this.ws.onmessage = (message) => {\r\n        console.log(\"收到服务器消息\")\r\n        alert(message.data())\r\n        console.log(message)\r\n        console.log(this.ws.readyState)\r\n      }\r\n      this.ws.onerror = (error) => {\r\n        console.log(\"报错了\")\r\n        console.log(error)\r\n        console.log(this.ws.readyState)\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"AAKA,IAAIA,IAAG,GAAI,IAAI;AACf,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAE;IACN;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACD,EAAC,GAAI,IAAIE,SAAS,CAAC,gCAAgC,GAACJ,IAAI;IAC7D,IAAI,CAACK,MAAM,CAAC;EAEd,CAAC;EACDC,OAAO,EAAE;IACPD,MAAMA,CAAA,EAAG;MAEP,IAAI,CAACH,EAAE,CAACK,MAAK,GAAI,MAAM;QACrB,IAAI,CAACL,EAAE,CAACM,IAAI,CAAC,OAAO,CAAC;QACrBC,KAAK,CAAC,EAAE;QACRC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,EAAE,CAACU,UAAU;MAChC;MACA,IAAI,CAACV,EAAE,CAACW,OAAM,GAAI,MAAM;QACtBH,OAAO,CAACC,GAAG,CAAC,OAAO;QACnBF,KAAK,CAAC,EAAE;QACRC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,EAAE,CAACU,UAAU;MAChC;MACA,IAAI,CAACV,EAAE,CAACY,SAAQ,GAAKC,OAAO,IAAK;QAC/BL,OAAO,CAACC,GAAG,CAAC,SAAS;QACrBF,KAAK,CAACM,OAAO,CAACd,IAAI,CAAC,CAAC;QACpBS,OAAO,CAACC,GAAG,CAACI,OAAO;QACnBL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,EAAE,CAACU,UAAU;MAChC;MACA,IAAI,CAACV,EAAE,CAACc,OAAM,GAAKC,KAAK,IAAK;QAC3BP,OAAO,CAACC,GAAG,CAAC,KAAK;QACjBD,OAAO,CAACC,GAAG,CAACM,KAAK;QACjBP,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,EAAE,CAACU,UAAU;MAChC;IAEF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}