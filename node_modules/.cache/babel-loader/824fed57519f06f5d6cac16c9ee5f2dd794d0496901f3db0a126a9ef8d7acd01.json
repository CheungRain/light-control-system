{"ast":null,"code":"export default {\n  data() {\n    return {\n      ws: null\n    };\n  },\n  created() {\n    //连接WebSocket服务端，然后初始化监听事件\n    this.ws = new WebSocket(\"ws://localhost:8087/websocket/test\");\n    this.wsInit();\n  },\n  methods: {\n    wsInit() {\n      this.ws.onopen = () => {\n        this.ws.send(\"服务已连接\");\n        console.log(this.ws.readyState);\n      };\n      this.ws.onclose = () => {\n        console.log(\"服务器关闭\");\n        console.log(this.ws.readyState);\n      };\n      this.ws.onmessage = message => {\n        console.log(\"收到服务器消息\");\n        console.log(message);\n        console.log(this.ws.readyState);\n      };\n      this.ws.onerror = error => {\n        console.log(\"报错了\");\n        console.log(error);\n        console.log(this.ws.readyState);\n      };\n    }\n  }\n};","map":{"version":3,"names":["data","ws","created","WebSocket","wsInit","methods","onopen","send","console","log","readyState","onclose","onmessage","message","onerror","error"],"sources":["D:\\VUE\\demo\\src\\pages\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <button @click=\"webclick\">给后台发送消息</button>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      ws: null\r\n    }\r\n  },\r\n  created() {\r\n    //连接WebSocket服务端，然后初始化监听事件\r\n    this.ws = new WebSocket(\"ws://localhost:8087/websocket/test\");\r\n    this.wsInit();\r\n\r\n  },\r\n  methods: {\r\n    wsInit() {\r\n\r\n      this.ws.onopen = () => {\r\n        this.ws.send(\"服务已连接\");\r\n        console.log(this.ws.readyState)\r\n      }\r\n      this.ws.onclose = () => {\r\n        console.log(\"服务器关闭\")\r\n        console.log(this.ws.readyState)\r\n      }\r\n      this.ws.onmessage = (message) => {\r\n        console.log(\"收到服务器消息\")\r\n        console.log(message)\r\n        console.log(this.ws.readyState)\r\n      }\r\n      this.ws.onerror = (error) => {\r\n        console.log(\"报错了\")\r\n        console.log(error)\r\n        console.log(this.ws.readyState)\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"AAKA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAE;IACN;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACD,EAAC,GAAI,IAAIE,SAAS,CAAC,oCAAoC,CAAC;IAC7D,IAAI,CAACC,MAAM,CAAC,CAAC;EAEf,CAAC;EACDC,OAAO,EAAE;IACPD,MAAMA,CAAA,EAAG;MAEP,IAAI,CAACH,EAAE,CAACK,MAAK,GAAI,MAAM;QACrB,IAAI,CAACL,EAAE,CAACM,IAAI,CAAC,OAAO,CAAC;QACrBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,EAAE,CAACS,UAAU;MAChC;MACA,IAAI,CAACT,EAAE,CAACU,OAAM,GAAI,MAAM;QACtBH,OAAO,CAACC,GAAG,CAAC,OAAO;QACnBD,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,EAAE,CAACS,UAAU;MAChC;MACA,IAAI,CAACT,EAAE,CAACW,SAAQ,GAAKC,OAAO,IAAK;QAC/BL,OAAO,CAACC,GAAG,CAAC,SAAS;QACrBD,OAAO,CAACC,GAAG,CAACI,OAAO;QACnBL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,EAAE,CAACS,UAAU;MAChC;MACA,IAAI,CAACT,EAAE,CAACa,OAAM,GAAKC,KAAK,IAAK;QAC3BP,OAAO,CAACC,GAAG,CAAC,KAAK;QACjBD,OAAO,CAACC,GAAG,CAACM,KAAK;QACjBP,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,EAAE,CAACS,UAAU;MAChC;IAEF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}