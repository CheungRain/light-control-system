{"ast":null,"code":"const user = \"\";\nexport default {\n  data() {\n    return {\n      ws: null\n    };\n  },\n  created() {\n    //连接WebSocket服务端，然后初始化监听事件\n    this.ws = new WebSocket(\"ws://localhost:8080/webSocket/\" + user);\n    this.wsInit();\n  },\n  methods: {\n    wsInit() {\n      this.ws.onopen = () => {\n        this.ws.send(\"服务已连接\");\n        console.log(\"服务器已连接\");\n      };\n      this.ws.onclose = () => {\n        console.log(\"服务器关闭\");\n      };\n      this.ws.onmessage = event => {\n        let message = JSON.parse(event.data);\n        console.log(\"收到服务器消息\");\n        console.log(message);\n      };\n      this.ws.onerror = event => {\n        let error = JSON.parse(event.data);\n        console.log(\"报错了\");\n        console.log(error);\n        console.log(this.ws.readyState);\n      };\n    }\n  }\n};","map":{"version":3,"names":["user","data","ws","created","WebSocket","wsInit","methods","onopen","send","console","log","onclose","onmessage","event","message","JSON","parse","onerror","error","readyState"],"sources":["D:\\VUE\\demo\\src\\pages\\IndexPage.vue"],"sourcesContent":["<template>\r\n  <button @click=\"webclick\">给后台发送消息</button>\r\n</template>\r\n\r\n<script>\r\nconst user = \"\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      ws: null\r\n    }\r\n  },\r\n  created() {\r\n    //连接WebSocket服务端，然后初始化监听事件\r\n    this.ws = new WebSocket(\"ws://localhost:8080/webSocket/\"+user)\r\n    this.wsInit()\r\n\r\n  },\r\n  methods: {\r\n    wsInit() {\r\n      this.ws.onopen = () => {\r\n        this.ws.send(\"服务已连接\");\r\n        console.log(\"服务器已连接\")\r\n      }\r\n      this.ws.onclose = () => {\r\n        console.log(\"服务器关闭\")\r\n      }\r\n      this.ws.onmessage = (event) => {\r\n        let message = JSON.parse(event.data)\r\n        console.log(\"收到服务器消息\")\r\n        console.log(message)\r\n      }\r\n      this.ws.onerror = (event) => {\r\n        let error = JSON.parse(event.data)\r\n        console.log(\"报错了\")\r\n        console.log(error)\r\n        console.log(this.ws.readyState)\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"AAKA,MAAMA,IAAG,GAAI,EAAE;AACf,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,EAAE,EAAE;IACN;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACD,EAAC,GAAI,IAAIE,SAAS,CAAC,gCAAgC,GAACJ,IAAI;IAC7D,IAAI,CAACK,MAAM,CAAC;EAEd,CAAC;EACDC,OAAO,EAAE;IACPD,MAAMA,CAAA,EAAG;MACP,IAAI,CAACH,EAAE,CAACK,MAAK,GAAI,MAAM;QACrB,IAAI,CAACL,EAAE,CAACM,IAAI,CAAC,OAAO,CAAC;QACrBC,OAAO,CAACC,GAAG,CAAC,QAAQ;MACtB;MACA,IAAI,CAACR,EAAE,CAACS,OAAM,GAAI,MAAM;QACtBF,OAAO,CAACC,GAAG,CAAC,OAAO;MACrB;MACA,IAAI,CAACR,EAAE,CAACU,SAAQ,GAAKC,KAAK,IAAK;QAC7B,IAAIC,OAAM,GAAIC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACZ,IAAI;QACnCQ,OAAO,CAACC,GAAG,CAAC,SAAS;QACrBD,OAAO,CAACC,GAAG,CAACI,OAAO;MACrB;MACA,IAAI,CAACZ,EAAE,CAACe,OAAM,GAAKJ,KAAK,IAAK;QAC3B,IAAIK,KAAI,GAAIH,IAAI,CAACC,KAAK,CAACH,KAAK,CAACZ,IAAI;QACjCQ,OAAO,CAACC,GAAG,CAAC,KAAK;QACjBD,OAAO,CAACC,GAAG,CAACQ,KAAK;QACjBT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,EAAE,CAACiB,UAAU;MAChC;IAEF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}